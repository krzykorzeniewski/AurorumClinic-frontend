<h2 mat-dialog-title class="mb-3 text-center">
  Tworzenie nowej serwisu
</h2>

<mat-dialog-content>
  <div class="mb-3 text-center">
    <strong>Proszę wpisać dane nowego serwisu</strong>
  </div>

  <div class="row g-3">

    <div class="col-12">
      <mat-form-field class="w-100" appearance="outline">
        <mat-label>Nazwa</mat-label>
        <input matInput [formControl]="createForm.controls.name" />
        @if (controls.name.invalid) {
          <mat-error>{{ getErrorMessage(createForm.controls.name) }}</mat-error>
        }
      </mat-form-field>
    </div>

    <div class="col-md-6">
      <mat-form-field class="w-100" appearance="outline">
        <mat-label>Długość</mat-label>
        <input matInput type="number" [formControl]="createForm.controls.duration" />
        @if (controls.duration.invalid) {
          <mat-error>{{ getErrorMessage(createForm.controls.duration) }}</mat-error>
        }
      </mat-form-field>
    </div>

    <div class="col-md-6">
      <mat-form-field class="w-100" appearance="outline">
        <mat-label>Cena</mat-label>
        <input matInput type="number" [formControl]="createForm.controls.price" />
        @if (controls.price.invalid) {
          <mat-error>{{ getErrorMessage(createForm.controls.price) }}</mat-error>
        }
      </mat-form-field>
    </div>

    <div class="col-12">
      <mat-form-field class="w-100" appearance="outline">
        <mat-label>Opis</mat-label>
        <textarea
          matInput
          rows="4"
          cdkTextareaAutosize
          cdkAutosizeMinRows="3"
          cdkAutosizeMaxRows="6"
          [formControl]="createForm.controls.description">
        </textarea>
        @if (controls.description.invalid) {
          <mat-error>{{ getErrorMessage(createForm.controls.description) }}</mat-error>
        }
      </mat-form-field>
    </div>

    <div class="col-12">
      <mat-form-field appearance="outline" class="w-100">
        <mat-label>Specjalizacje</mat-label>
        <mat-select [formControl]="controls.specializationIds" multiple>
          @for (spec of specializations; track spec) {
            <mat-option [value]="spec.id">{{ spec.name }}</mat-option>
          }
        </mat-select>
        @if (controls.specializationIds.invalid) {
          <mat-error>{{ getErrorMessage(controls.specializationIds) }}</mat-error>
        }
      </mat-form-field>
    </div>

  </div>
</mat-dialog-content>

<div class="container mt-3">
  <app-alert
    *ngIf="infoMessage()"
    [text]="infoMessage()"
    [variant]="variant()">
  </app-alert>
</div>

<mat-dialog-actions class="d-flex justify-content-end gap-2 mt-3">
  <button mat-stroked-button type="button" (click)="onNoClick()">
    Anuluj
  </button>

  <button
    mat-flat-button
    class="btn text-white border-0"
    style="background-color: var(--primary-purple)"
    (click)="onSubmit()"
    [disabled]="createForm.invalid">
    Stwórz
  </button>
</mat-dialog-actions>
